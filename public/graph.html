<!DOCTYPE html>
<html lang="ko">
    <head>
		<title>게임</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0">
		
		<link href="/css/main.css" rel="stylesheet" type="text/css" />
		
		<script src="/js/async.js"></script>
		<script src="/js/step.js"></script>
        <script type="text/javascript" src="http://connect.facebook.net/en_US/all.js"></script>
		<script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
		<script src="/js/jquery.transit.min.js"></script>
		<script src="/diaryJS/facebook_contents_loader.js"></script>
		<script src="/party_relations.json"></script>
        <script>
         //   var relationData = {"Asian Male Stars":{"Asian Female Stars":18,"K-Dramas":18,"Song Hye Kyo":12,"Korean Stars":12,"Won Bin":12},"Asian Female Stars":{"Asian Male Stars":18,"Korean Stars":6,"Song Hye Kyo":6,"Song Seung Hun":6,"K-Dramas":12},"Korean Stars":{"Asian Female Stars":6,"K-Dramas":17,"Asian Male Stars":12,"Music":7,"Soundtrack":7,"Song Seung Hun":7,"Won Bin":7,"Song Hye Kyo":7},"Song Hye Kyo":{"Asian Female Stars":6,"K-Dramas":12,"Asian Male Stars":12,"Korean Stars":7,"Eunji (A Pink)":5,"\"That Winter - The Wind Blows (KDrama)\"":7,"Jo In Sung":4,"Yesung (Super Junior)":4},"Song Seung Hun":{"Asian Female Stars":6,"K-Dramas":10,"Korean Stars":7},"K-Dramas":{"Asian Female Stars":12,"Korean Stars":17,"Asian Male Stars":18,"Song Seung Hun":10,"Song Hye Kyo":12,"Eunji (A Pink)":5,"\"That Winter - The Wind Blows (KDrama)\"":3},"IT (Information Technology)":{"Startup":12,"Web & Mobile Design":3,"Industrial Design":5,"Music":3,"Funny":2},"Startup":{"IT (Information Technology)":12,"Web & Mobile Design":3,"Industrial Design":5,"Music":3,"Entrepreneurship":2},"Won Bin":{"Asian Male Stars":12,"Korean Stars":7},"Web & Mobile Design":{"Startup":3,"IT (Information Technology)":3},"Music":{"Korean Stars":7,"IT (Information Technology)":3,"Startup":3,"Learn English":4,"Love & Relationship":2},"Soundtrack":{"Korean Stars":7},"Inspirational Stories":{"Industrial Design":5,"Learn English":9,"Quotes":3},"Industrial Design":{"Inspirational Stories":5,"Funny":5,"Startup":5,"IT (Information Technology)":5},"Funny":{"Industrial Design":5,"World Top Models":2,"Learn English":2,"Love & Relationship":8,"Food":2,"K-Pop":6,"Military Mania":2,"IT (Information Technology)":2,"Webtoon/Webcomic":5,"Wallpaper & Cover Photos":7,"Mobile Apps":9},"Kim Bum":{"Eunji (A Pink)":5},"Eunji (A Pink)":{"Kim Bum":5,"K-Dramas":5,"Jo In Sung":5,"Song Hye Kyo":5},"Jo In Sung":{"Eunji (A Pink)":5,"Song Hye Kyo":4},"\"That Winter - The Wind Blows (KDrama)\"":{"Song Hye Kyo":7,"K-Dramas":3},"Yesung (Super Junior)":{"Song Hye Kyo":4},"Entrepreneurship":{"Startup":2},"Beauty for Women":{"World Top Models":6},"World Top Models":{"Beauty for Women":6,"Fashion for Women":6,"Hollywood Stars":6,"Hollywood Female Stars":6,"Michelle Williams":6,"Hairstyles":2,"English Premier League":9,"Football":10,"Real Madrid":4,"La Liga":4,"Bundesliga":3," Miranda Kerr":2,"Funny":2},"Fashion for Women":{"World Top Models":6},"Hollywood Stars":{"World Top Models":6},"Hollywood Female Stars":{"World Top Models":6},"Michelle Williams":{"World Top Models":6},"Hairstyles":{"World Top Models":2},"English Premier League":{"World Top Models":9,"Manchester United":6,"La Liga":14,"Real Madrid":6,"Football":6,"Serie A":6,"Bundesliga":8,"Liverpool FC":5},"Football":{"World Top Models":10,"English Premier League":6,"FC Bayern Munchen":3,"Serie A":6,"AC Milan":6,"Shakira":5,"FC Barcelona":10,"La Liga":13,"Bundesliga":8,"Liverpool FC":5,"UEFA Champions League":2},"Real Madrid":{"World Top Models":4,"English Premier League":6,"La Liga":5,"Liverpool FC":5,"FC Barcelona":4},"La Liga":{"World Top Models":4,"English Premier League":14,"Serie A":19,"AC Milan":6,"Shakira":5,"FC Barcelona":10,"Bundesliga":16,"Football":13,"UEFA Champions League":8,"Sports":8,"Limited Editions & Collectibles":8,"Real Madrid":5,"Inter Milan":5,"Liverpool FC":5},"Bundesliga":{"World Top Models":3,"FC Bayern Munchen":3,"Serie A":14,"La Liga":16,"Limited Editions & Collectibles":8,"English Premier League":8,"Football":8,"UEFA Champions League":8,"Sports":8}," Miranda Kerr":{"World Top Models":2},"Manchester United":{"English Premier League":6},"Fine Art":{"Illustration":12,"All about Black":5,"Exhibitions":2,"Car Design":4,"Cars":4,"Car Tuning":4},"Illustration":{"Fine Art":12,"All about Black":5,"Webtoon/Webcomic":3,"Wallpaper & Cover Photos":4,"Mobile Apps":9},"Creative Writing":{"All about Black":5},"All about Black":{"Creative Writing":5,"Poetry":5,"Illustration":5,"Fine Art":5},"Poetry":{"All about Black":5},"Exhibitions":{"Fine Art":2},"Learn Korean":{"Learn English":2},"Learn English":{"Learn Korean":2,"K-Pop":3,"Quotes":10,"Music":4,"Pop Music":4,"Inspirational Stories":9,"Funny":2},"K-Pop":{"Learn English":3,"Infinite":3,"f(x)":6,"Krystal (f(x))":6,"KARA":6,"Kang Jiyoung (KARA)":6,"Funny":6},"Infinite":{"K-Pop":3},"Quotes":{"Learn English":10,"Inspirational Stories":3},"Pop Music":{"Learn English":4},"Love & Relationship":{"Wedding & Honeymoon":4,"Funny":8,"Travel Seoul":6,"Restaurants & Bars":13,"Salads":6,"Italian Food":6,"Food":6,"Fashion for Teenager":4,"Psychology":2,"Music":2,"Battle of Sexes":8,"Women's Street Fashion":6},"Wedding & Honeymoon":{"Love & Relationship":4,"Photography":4,"Travel":4},"Photography":{"Wedding & Honeymoon":4},"Travel":{"Wedding & Honeymoon":4},"Travel Seoul":{"Love & Relationship":6,"Restaurants & Bars":7,"Battle of Sexes":8,"Women's Street Fashion":6},"Restaurants & Bars":{"Love & Relationship":13,"Travel Seoul":7,"Hotels & Resorts":7,"Sandwiches":7,"Cakes":7,"Food":7},"Salads":{"Love & Relationship":6},"Italian Food":{"Love & Relationship":6},"Food":{"Love & Relationship":6,"Restaurants & Bars":7,"Funny":2},"Women's Street Fashion":{"Fashion for Teenager":4,"Men's Street Fashion":6,"Battle of Sexes":6,"Travel Korea":6,"Travel Seoul":6,"Love & Relationship":6},"Fashion for Teenager":{"Women's Street Fashion":4,"Men's Street Fashion":4,"Love & Relationship":4},"Men's Street Fashion":{"Fashion for Teenager":4,"Women's Street Fashion":6},"Hotels & Resorts":{"Restaurants & Bars":7},"Sandwiches":{"Restaurants & Bars":7},"Cakes":{"Restaurants & Bars":7},"Psychology":{"Love & Relationship":2},"f(x)":{"K-Pop":6},"Krystal (f(x))":{"K-Pop":6},"KARA":{"K-Pop":6},"Kang Jiyoung (KARA)":{"K-Pop":6},"Military Mania":{"Funny":2},"FC Bayern Munchen":{"Bundesliga":3,"Football":3},"Serie A":{"La Liga":19,"Bundesliga":14,"Ligue1 French Football League":6,"English Premier League":6,"Football":6,"AC Milan":6,"FC Barcelona":6},"Ligue1 French Football League":{"Serie A":6},"AC Milan":{"Serie A":6,"FC Barcelona":12,"La Liga":6,"UEFA Champions League":6,"Football":6},"FC Barcelona":{"AC Milan":12,"Shakira":5,"La Liga":10,"UEFA Champions League":6,"Serie A":6,"Football":10,"Real Madrid":4},"UEFA Champions League":{"AC Milan":6,"FC Barcelona":6,"La Liga":8,"Bundesliga":8,"Football":2},"Latin Pop":{"Shakira":5},"Shakira":{"Latin Pop":5,"La Liga":5,"FC Barcelona":5,"Football":5},"Sports":{"La Liga":8,"Bundesliga":8},"Limited Editions & Collectibles":{"La Liga":8,"Bundesliga":8},"Inter Milan":{"La Liga":5},"Liverpool FC":{"English Premier League":5,"Real Madrid":5,"La Liga":5,"Football":5},"Car Design":{"Fine Art":4},"Cars":{"Fine Art":4},"Car Tuning":{"Fine Art":4},"Travel Korea":{"Battle of Sexes":8,"Women's Street Fashion":6},"Battle of Sexes":{"Travel Korea":8,"Travel Seoul":8,"Love & Relationship":8,"Women's Street Fashion":6},"Webtoon/Webcomic":{"Illustration":3,"Funny":5,"Wallpaper & Cover Photos":3,"Mobile Apps":5},"Wallpaper & Cover Photos":{"Illustration":4,"Mobile Apps":13,"Funny":7,"Webtoon/Webcomic":3},"Mobile Apps":{"Wallpaper & Cover Photos":13,"Illustration":9,"Webtoon/Webcomic":5,"Funny":9}};
            $(document).ready(function(){
                for(var name in relationData){
                    $(".party-list").append("<div onclick='startRoot(this);' >" + name + "</div>");
                }
            });
            
            function circlePoint(pivot,angle,radius){
                return {
                    x : pivot.x + Math.cos( angle ) * radius,
                    y : pivot.y + Math.sin( angle ) * radius
                };
            }
            function randomColor() {
                for (var i=0, col=''; i<6; i++) {
                    col += (Math.random()*16|0).toString(16);
                }
                return '#'+col;
            }
            
            function startRoot(party_li){
            //    $(".party-div").fadeOut();
                $(".party-div").remove();
            
                var $party = $(party_li);
                $(".site-container").append("<div class ='party-div' name='"+$party.html()+"' style='left:50%;top:50%' onclick='onTouchPartyDiv(this)' depth = '1' >"+$party.html()+"</div>");
            }
            function onTouchPartyDiv(party_div){
                
                var $party = $(party_div);
                var depth = Number($party.attr("depth"));
                var related_parties = relationData[$party.attr("name")];
                
                var related_parties_count = 0;
                depth ++;
                for(var name in related_parties){
                    $(".site-container").append("<div class ='party-div' name = '" + name + "'onclick='onTouchPartyDiv(this)' depth = '"+depth+"' >"+
                                                    name + " : " + related_parties[name] + 
                                               "</div>");
                    related_parties_count++;
                }
                
                var pivot = {
                    x : $party.position().left,
                    y : $party.position().top
                };
                
                var index = 1;
                var color = randomColor();
                
                $party.animate({
                    "background-color" : color
                });
                for(var name in related_parties){
                    $(".party-div[name='" + name + "']").css({
                        left : $party.css("left"),
                        top  : $party.css("top")
                    });
                    
                    var pos = circlePoint(pivot,2 * Math.PI * (index / related_parties_count),170 );//(related_parties[name]/3));
                    $(".party-div[name='" + name + "']").transit({
                        left : pos.x ,
                        top  : pos.y , 
                        width  : 50 * (related_parties[name]/3),
                        height : 50 * (related_parties[name]/3),
                        "background-color" : color
                    });
                    
                    index++;
                }
            }
        </script> 
	   	<style>
			html,body{
				width:100%;
				height:100%;
				overflow:hidden;
			}
			*{
				font-size: 1em;
				letter-spacing: -1px;
				font-family: NanumGothic,"Apple SD Gothic Neo","Malgun Gothic",AppleGothic,Dotum,sans-serif;
				margin: 0px;
				padding: 0px;
			}
			.site-container{
				width:100%;
				height:100%;
				overflow:scroll;
			}
			.date-container{
				border-radius:10px;
				background-color: rgb(142, 194, 190);
				width:500px;
				height:auto;
				margin-bottom:10px;
			}
			.date-container .title{
				text-align: center;
				font-family: "맑은 고딕";
				font-size: 40px;
			}
			.Photo{
				width:100%;
				height: auto;
				background-color: rgba(0, 0, 0, 0.28);
				margin-bottom:8px;
				border-radius:5px;
			}
			.Photo img{
			}
			.Photo .caption{
			}
			.Status{
				width:100%;
				height: auto;
				background-color: rgba(0, 0, 0, 0.28);
				margin-bottom:8px;
				border-radius:5px;
			}
			.Link{
				width:100%;
				height: auto;
				background-color: rgba(0, 0, 0, 0.28);
				margin-bottom:8px;
				border-radius:5px;
			}
			.Loading{
				width:100%;
				height:100%;
				position:absolute;
				left:0px;
				top:0px;
				background-color:black;
				color:white;
			}
            .party-list{
                height:100%;
                overflow:scroll;
            }
            
            .party-div{
                width:100px;
                height:100px;
                background-color:#ee4422;
                border-radius:50% 50%;
                text-align: center;
                box-sizing: border-box;
                padding-top: 30px;
                position:absolute;
            }
		</style>
	</head>
	<body>
		<div class="site-container">
			<div class="party-list">
			</div>
		</div>
	</body>
</html>